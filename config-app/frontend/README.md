# üé® AutoCore Config App - Frontend

<div align="center">

![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white)
![TailwindCSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)
![Alpine.js](https://img.shields.io/badge/Alpine.js-8BC34A?style=for-the-badge&logo=alpine.js&logoColor=white)

**Interface Web Leve e Moderna para Configura√ß√£o do Sistema AutoCore**

[Vis√£o Geral](#-vis√£o-geral) ‚Ä¢ [Componentes](#-sistema-de-componentes) ‚Ä¢ [Desenvolvimento](#-desenvolvimento) ‚Ä¢ [Temas](#-sistema-de-temas)

</div>

---

## üìã Vis√£o Geral

Interface web de configura√ß√£o para o sistema AutoCore, otimizada para rodar no **Raspberry Pi Zero 2W**. Esta aplica√ß√£o permite configurar todos os componentes do sistema veicular (ESP32s, rel√©s, displays, integra√ß√£o CAN) atrav√©s de uma interface moderna e responsiva.

### ‚ú® Caracter√≠sticas Principais

- üöó **Configura√ß√£o Veicular** - Gest√£o completa de componentes automotivos
- üì± **100% Responsiva** - Funciona em desktop, tablet e mobile
- ‚ö° **Ultra Leve** - Sem build process, ideal para Raspberry Pi Zero
- üé® **Design Moderno** - Interface limpa inspirada no shadcn/ui
- üîß **Componentizada** - Arquitetura modular e reutiliz√°vel
- üåô **Temas Din√¢micos** - Suporte para dark/light mode
- üîÑ **Tempo Real** - Comunica√ß√£o MQTT para atualiza√ß√µes instant√¢neas

## üõ†Ô∏è Stack Tecnol√≥gica

### Core
- **HTML5** - Estrutura sem√¢ntica, sem depend√™ncias
- **Tailwind CSS** - Estiliza√ß√£o via CDN, sem build
- **Alpine.js** - Reatividade leve (13KB gzipped)
- **Lucide Icons** - √çcones consistentes

### Integra√ß√µes
- **MQTT WebSocket** - Comunica√ß√£o tempo real com gateway
- **FastAPI Backend** - APIs REST para configura√ß√£o
- **Chart.js** - Gr√°ficos de telemetria (carregamento lazy)
- **Local Storage** - Cache de configura√ß√µes offline

### CDNs
```html
<!-- Essenciais -->
<script src="https://cdn.tailwindcss.com"></script>
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

<!-- Opcionais -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/mqtt@4.3.7/dist/mqtt.min.js"></script>
```

## üìÅ Estrutura de Arquivos

```
frontend/
‚îú‚îÄ‚îÄ üìÅ assets/                    # Assets est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ custom.css           # Estilos customizados
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ themes.css           # Vari√°veis de temas
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.js              # Core da aplica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mqtt-client.js      # Cliente MQTT WebSocket
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.js              # Cliente REST API
‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îÇ       ‚îî‚îÄ‚îÄ autocore-logo.svg   # Logo do sistema
‚îÇ
‚îú‚îÄ‚îÄ üìÅ components/                # Componentes Alpine.js
‚îÇ   ‚îú‚îÄ‚îÄ ui/                     # Componentes base
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ button.js           # Bot√µes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ card.js             # Cards
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modal.js            # Modais
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ toast.js            # Notifica√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ layout/                 # Layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navbar.js           # Navega√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sidebar.js          # Menu lateral
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ theme-switcher.js   # Alternador de tema
‚îÇ   ‚îî‚îÄ‚îÄ modules/                # Espec√≠ficos do AutoCore
‚îÇ       ‚îú‚îÄ‚îÄ device-card.js      # Card de dispositivo ESP32
‚îÇ       ‚îú‚îÄ‚îÄ relay-control.js    # Controle de rel√©s
‚îÇ       ‚îú‚îÄ‚îÄ can-monitor.js      # Monitor dados CAN
‚îÇ       ‚îî‚îÄ‚îÄ config-editor.js    # Editor de configura√ß√µes
‚îÇ
‚îú‚îÄ‚îÄ üìÅ pages/                     # P√°ginas da aplica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ index.html              # Dashboard principal
‚îÇ   ‚îú‚îÄ‚îÄ devices.html            # Gest√£o de ESP32s
‚îÇ   ‚îú‚îÄ‚îÄ relays.html             # Configura√ß√£o de rel√©s
‚îÇ   ‚îú‚îÄ‚îÄ can.html                # Integra√ß√£o CAN FuelTech
‚îÇ   ‚îú‚îÄ‚îÄ multimedia.html         # Sistema multim√≠dia
‚îÇ   ‚îî‚îÄ‚îÄ settings.html           # Configura√ß√µes gerais
‚îÇ
‚îú‚îÄ‚îÄ üìÅ templates/                 # Templates reutiliz√°veis
‚îÇ   ‚îî‚îÄ‚îÄ base.html               # Template base HTML
‚îÇ
‚îî‚îÄ‚îÄ üìÅ docs/                      # Documenta√ß√£o
    ‚îú‚îÄ‚îÄ COMPONENTS.md           # Guia de componentes
    ‚îî‚îÄ‚îÄ DEPLOYMENT.md           # Deploy no Raspberry Pi
```

## üé® Sistema de Componentes

### Arquitetura

Componentes reutiliz√°veis usando Alpine.js, sem necessidade de build. Cada componente √© um arquivo JavaScript que define comportamentos espec√≠ficos:

```javascript
// Exemplo: components/modules/relay-control.js
Alpine.data('relayControl', () => ({
    relayId: null,
    state: false,
    loading: false,
    
    init() {
        // Escutar estado do rel√© via MQTT
        mqtt.subscribe(`autocore/relays/${this.relayId}/state`, (message) => {
            this.state = message.payload === 'ON'
        })
    },
    
    async toggle() {
        this.loading = true
        try {
            await mqtt.publish(`autocore/relays/${this.relayId}/command`, 
                               this.state ? 'OFF' : 'ON')
        } catch (error) {
            this.$dispatch('toast', { 
                type: 'error', 
                message: 'Erro ao controlar rel√©' 
            })
        }
        this.loading = false
    }
}))
```

### Componentes Espec√≠ficos do AutoCore

- **device-card** - Mostra status de ESP32s (online/offline, uptime, IP)
- **relay-control** - Controle individual de rel√©s com feedback
- **can-monitor** - Visualiza√ß√£o dados CAN da FuelTech (RPM, temp, etc)
- **config-editor** - Editor JSON para configura√ß√µes avan√ßadas

## üåô Sistema de Temas

Sistema simples de temas com CSS custom properties para dark/light mode:

```css
/* assets/css/themes.css */
:root {
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --text-primary: #1e293b;
    --border: #e2e8f0;
    --accent: #3b82f6;
}

[data-theme="dark"] {
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --text-primary: #f1f5f9;
    --border: #334155;
    --accent: #60a5fa;
}
```

### Alternador de Tema

```javascript
Alpine.data('themeSwitcher', () => ({
    theme: localStorage.getItem('theme') || 'light',
    
    toggleTheme() {
        this.theme = this.theme === 'light' ? 'dark' : 'light'
        document.documentElement.setAttribute('data-theme', this.theme)
        localStorage.setItem('theme', this.theme)
    }
}))
```

## üì± Responsividade

Design mobile-first otimizado para uso em ve√≠culos:

```html
<!-- Layout adapt√°vel -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <!-- Dispositivos ESP32 -->
</div>

<!-- Navega√ß√£o touch-friendly -->
<nav class="fixed bottom-0 md:static md:top-0">
    <!-- Bot√µes grandes para uso no ve√≠culo -->
</nav>
```

**Breakpoints:** sm(640px), md(768px), lg(1024px), xl(1280px)

## üöÄ Performance

Otimizado para **Raspberry Pi Zero 2W**:

- ‚ö° **< 50KB total** de JavaScript
- üéØ **< 200ms** tempo de carregamento
- üíæ **< 20MB** uso de mem√≥ria
- üì¶ **Zero build process** - servir arquivos diretos
- üîÑ **Cache agressivo** de assets est√°ticos

## üîß Desenvolvimento

### Setup Local

```bash
# Navegar para o frontend
cd /Users/leechardes/Projetos/AutoCore/config-app/frontend

# Servir arquivos est√°ticos
python -m http.server 8080

# Abrir no navegador
open http://localhost:8080/pages/index.html
```

### Template Base

```html
<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoCore Config</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../assets/css/themes.css">
</head>
<body style="background: var(--bg-primary); color: var(--text-primary)">
    <div x-data="autoCorePage" class="min-h-screen">
        <!-- Conte√∫do da aplica√ß√£o -->
    </div>
    
    <!-- Scripts -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="../assets/js/mqtt-client.js"></script>
    <script src="../assets/js/api.js"></script>
    <script src="../components/layout/theme-switcher.js"></script>
    <script src="../assets/js/app.js"></script>
</body>
</html>
```

### Adicionando Novo Componente

1. Criar arquivo em `components/modules/nome-componente.js`
2. Implementar usando padr√£o Alpine.js
3. Incluir script na p√°gina que usa
4. Testar funcionamento no Raspberry Pi

## üöó Funcionalidades Principais

### Dashboard
- Status tempo real de todos os ESP32s
- Monitor de rel√©s ativos/inativos
- Dados CAN da ECU FuelTech (RPM, temperatura, press√µes)
- Gr√°ficos de telemetria

### Configura√ß√£o de Dispositivos
- Descoberta autom√°tica de ESP32s na rede
- Configura√ß√£o de par√¢metros individuais
- Atualiza√ß√£o OTA de firmware
- Logs de diagn√≥stico

### Controle de Rel√©s
- Interface visual para acionamento manual
- Configura√ß√£o de temporizadores
- Grupos de rel√©s (ex: luzes, som, refrigera√ß√£o)
- Hist√≥rico de acionamentos

### Integra√ß√£o CAN
- Monitor em tempo real da ECU FuelTech FT450
- Configura√ß√£o de par√¢metros de partida
- Alertas de temperatura e press√£o
- Export de dados para an√°lise

## üì± Deploy no Raspberry Pi

### Configura√ß√£o de Produ√ß√£o

```bash
# No Raspberry Pi Zero 2W
sudo apt update && sudo apt install nginx python3

# Configurar nginx para servir arquivos est√°ticos
sudo cp nginx.conf /etc/nginx/sites-available/autocore
sudo ln -s /etc/nginx/sites-available/autocore /etc/nginx/sites-enabled/
sudo systemctl restart nginx

# Interface acess√≠vel em http://raspberrypi.local
```

### Estrutura Final
```
/var/www/autocore/
‚îú‚îÄ‚îÄ frontend/     # Interface web (este projeto)
‚îú‚îÄ‚îÄ backend/      # API FastAPI
‚îî‚îÄ‚îÄ gateway/      # Hub MQTT
```

---

<div align="center">

**üöó Interface de configura√ß√£o do AutoCore - Sistema modular de controle veicular**

Desenvolvido para rodar de forma eficiente no Raspberry Pi Zero 2W

[Backend FastAPI](../backend/README.md) ‚Ä¢ [Gateway MQTT](../../gateway/README.md) ‚Ä¢ [App Flutter](../../app-flutter/README.md)

</div>2