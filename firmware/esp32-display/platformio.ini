[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Serial monitor
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Build flags para otimizações e configurações LVGL
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DAUTOCORE_VERSION=\"1.0.0\"
    -DAUTOCORE_BUILD_DATE=\"2025-08-10\"
    
    ; Configurações LVGL
    -DLV_CONF_INCLUDE_SIMPLE
    -DLV_LVGL_H_INCLUDE_SIMPLE
    -DLV_DEMO_WIDGETS_SLIDESHOW=0
    -DLV_USE_LOG=1
    -DLV_LOG_LEVEL=LV_LOG_LEVEL_INFO
    -DLV_LOG_PRINTF=1
    -DLV_MEM_SIZE=65536
    -DLV_USE_PERF_MONITOR=1
    -DLV_USE_MEM_MONITOR=1
    -DLV_COLOR_DEPTH=16
    -DLV_USE_ASSERT_NULL=1
    -DLV_USE_ASSERT_MALLOC=1
    -DLV_USE_ASSERT_STYLE=0
    -DLV_USE_ASSERT_MEM_INTEGRITY=0
    -DLV_USE_ASSERT_OBJ=0
    
    ; Configurações do display TFT (ILI9341/ST7789)
    -DTFT_WIDTH=320
    -DTFT_HEIGHT=240
    -DTFT_CS=15
    -DTFT_DC=2
    -DTFT_RST=4
    -DTFT_MOSI=23
    -DTFT_CLK=18
    -DTFT_MISO=19
    -DSPI_FREQUENCY=40000000
    
    ; Configurações do touch (XPT2046)
    -DTOUCH_CS=5
    -DTOUCH_IRQ=27
    -DTOUCH_FREQUENCY=2500000
    
    ; Configurações de memória
    -DBOARD_HAS_PSRAM
    -DCONFIG_SPIRAM_SUPPORT=1

; Bibliotecas necessárias
lib_deps = 
    ; Display e Touch
    lvgl/lvgl@^8.3.11
    bodmer/TFT_eSPI@^2.5.43
    
    ; Comunicação e rede
    PubSubClient@2.8
    ArduinoJson@7.0.4
    ESPAsyncWebServer@1.2.3
    AsyncTCP@1.1.4
    
    ; Storage e configuração
    Preferences@1.0
    DNSServer
    
    ; Utilitários
    AsyncElegantOTA@2.2.7

; Configurações de upload
upload_speed = 921600
upload_port = COM3

; Configurações de filesystem (SPIFFS)
board_build.filesystem = spiffs
board_build.partitions = default.csv

; Configurações de memória
board_build.flash_mode = dio
board_build.f_flash = 80000000L
board_build.f_cpu = 240000000L